<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Тест з Цивільного захисту 2025</title> 
<style>
body{font-family:system-ui,Arial; background:#f3f4f6; margin:0; padding:24px}
.container{max-width:1000px; margin:0 auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 8px 24px rgba(0,0,0,0.08)}
h1{margin:0 0 12px; font-size:22px}
.meta{display:flex; gap:12px; flex-wrap:wrap; margin-bottom:12px}
input[type=text]{width:100%; padding:8px; border:1px solid #ccc; border-radius:6px}
.question{margin:18px 0; padding:14px; border-radius:6px; border:1px solid #e5e7eb}
.options{display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-top:10px}
label.opt{padding:10px; border:1px solid #ddd; border-radius:6px; cursor:pointer; display:block}
.controls{display:flex; justify-content:space-between; gap:8px; margin-top:16px; flex-wrap:wrap}
button{background:#0ea5a4; color:white; padding:10px 14px; border:none; border-radius:8px; cursor:pointer}
button.secondary{background:#e5e7eb; color:#111}
button:disabled{opacity:0.5; cursor:not-allowed}
.timer{font-size:18px; font-weight:600; color:#b91c1c; margin-bottom:12px}
.progress{margin-top:6px; font-size:14px; color:#374151}
.result{padding:14px; border-radius:8px; margin-top:12px; background:#f8fafc; border:1px solid #e6eef0}
footer{font-size:13px; color:#6b7280; margin-top:14px}
@media (max-width:700px){ .options{grid-template-columns:1fr} .meta{flex-direction:column} }
</style>
</head>
<body>
<div class="container">
  <h1>Тест з Цивільного захисту 2025</h1>

  <div class="timer">Час: <span id="time">50:00</span></div>

  <div class="meta">
    <div style="flex:1;">
      <label><strong>Введіть ПІБ (обов'язково):</strong></label>
      <input id="username" type="text" placeholder="Прізвище Ім'я По батькові" />
    </div>
    <div style="width:160px; align-self:end">
      <button id="startBtn">Почати тест</button>
    </div>
  </div>

  <p class="progress">Питань: <span id="total">55</span> — Ви на питанні: <span id="current">0</span></p>
  <div id="app"></div>

  <div style="margin-top:10px">
    <button id="finishBtn" style="display:none">Завершити і надіслати</button>
  </div>

  <footer>
    Після завершення результат автоматично буде надіслано на вашу електронну пошту. Мінімум для проходження — 50% та більше.
  </footer>
</div>

  <footer>
    Після завершення результат автоматично буде надіслано на вашу електронну пошту. Мінімум для проходження — 50% та більше.
  </footer>
</div>

<script>
const questions = [
{ id:1, text:"Що означає попереджувальний сигнал “Увага всім!”?", options:{A:"Потрібно негайно евакуюватися", B:"Увімкнути радіо/телебачення для отримання повідомлення", C:"Виходити на вулицю", D:"Чекати на інструкції через месенджер"} },
{ id:2, text:"Який з наведених об’єктів є захисною спорудою цивільного захисту?", options:{A:"Укриття в підземному переході", B:"Сховище або протирадіаційне укриття", C:"Балкон", D:"Будь-який приватний гараж"} },
{ id:3, text:"Основне призначення індивідуального перев’язочного пакета:", options:{A:"Дезактивація одягу", B:"Знезараження повітря", C:"Зупинка кровотечі та перев’язка ран", D:"Зниження радіаційного фону"} },
{ id:4, text:"Що робити при отриманні сигналу евакуації на підприємстві?", options:{A:"Ігнорувати і завершити наявні справи", B:"Негайно слідувати вказаному маршруту евакуації", C:"Зачекати офіційного повідомлення в чаті", D:"Залишитися на робочому місці"} },
{ id:5, text:"Після сигналу сирени працівник не почув оголошення. Його перша дія?", options:{A:"Зателефонувати керівнику", B:"Увімкнути найближчий радіоприймач/телевізор", C:"Бігти до укриття", D:"Писати в месенджер колегам"} },
{ id:6, text:"Який вид випромінювання має найменшу проникну здатність?", options:{A:"Альфа", B:"Бета", C:"Гамма", D:"Нейтронне"} },
{ id:7, text:"Дезактивація — це:", options:{A:"Прання одягу", B:"Видалення радіоактивних речовин з поверхонь", C:"Очищення води", D:"Зниження температури"} },
{ id:8, text:"Ознакою радіаційного ураження НЕ є:", options:{A:"Нудота", B:"Запаморочення", C:"Лихоманка", D:"Підвищений апетит"} },
{ id:9, text:"Після виходу із забрудненої зони перша дія:", options:{A:"Прийняти їжу", B:"Провести санітарну обробку", C:"Пити воду", D:"Бігти додому"} },
{ id:10, text:"Яка дія при підозрі на радіаційну небезпеку є правильною?", options:{A:"Перебувати без руху на місці", B:"Негайно увімкнути радіо/ТБ і дочекатися інструкцій", C:"Йти до найближчого вікна", D:"Ігнорувати попередження"} },

{ id:11, text:"За шкалою МСК-64 землетрус у 7 балів є:", options:{A:"Помірним", B:"Дуже сильним", C:"Катастрофічним", D:"Слабким"} },
{ id:12, text:"При землетрусі в приміщенні найкраще:", options:{A:"Стати біля вікна", B:"Сховатися під міцний стіл", C:"Стояти під люстрою", D:"Бігти сходами вниз"} },
{ id:13, text:"Гідрометеорологічна НС включає:", options:{A:"Торф’яні пожежі", B:"Повінь", C:"Техногенну аварію", D:"Вулканічний вибух"} },
{ id:14, text:"Під час зсуву ґрунту слід:", options:{A:"Залишатися на місці", B:"Втекти перпендикулярно до його руху", C:"Спуститися вниз по схилу", D:"Ховатися у низині"} },
{ id:15, text:"Працівник почув гул підлоги — початок землетрусу. Що робити?", options:{A:"Бігти до ліфта", B:"Відкрити вікна", C:"Заховатися у безпечній зоні (кут, простінок, під стіл)", D:"Ховатися в ванній кімнаті без вікон"} },

{ id:16, text:"СДОР — це:", options:{A:"Сильно діючі отруйні речовини", B:"Стабільні дерматологічні органічні реагенти", C:"Суміш дезінфекційних органічних речовин", D:"Стандартизовані джерела органічного розпаду"} },
{ id:17, text:"Найбільш небезпечні властивості ХНР:", options:{A:"Колір", B:"Запах", C:"Токсичність і леткість", D:"Здатність до висихання"} },
{ id:18, text:"Перший спосіб захисту при хімічній аварії:", options:{A:"Вимити підлогу", B:"Герметизувати приміщення", C:"Відкрити двері", D:"Вийти на дах"} },
{ id:19, text:"У разі запаху хлору в повітрі найкраще:", options:{A:"Піднятися на верхні поверхи", B:"Спуститися в підвал", C:"Викликати таксі", D:"Продовжити роботу"} },
{ id:20, text:"В офісі почувся сигнал про викид аміаку. Дії?", options:{A:"Зачинити вікна, змочити марлю і прикрити рот", B:"Вийти на вулицю", C:"Лягти на підлогу", D:"Увімкнути кондиціонер"} },

{ id:21, text:"Найпоширеніша причина пожеж у офісах:", options:{A:"Витік води", B:"Порушення електробезпеки", C:"Відсутність вентиляції", D:"Використання кондиціонера"} },
{ id:22, text:"Який вогнегасник підходить для електроприладів?", options:{A:"Пінний", B:"Водяний", C:"Вуглекислотний", D:"Порошковий лише на відкритому повітрі"} },
{ id:23, text:"Який клас пожежі не стосується горіння газів?", options:{A:"A", B:"B", C:"C", D:"E"} },
{ id:24, text:"Під час пожежі в будівлі потрібно:", options:{A:"Користуватися ліфтом", B:"Рухатися до виходу в напрямку протидиму", C:"Ховатися під меблями", D:"Відкривати всі вікна"} },
{ id:25, text:"У приміщенні задимлення. Перша правильна дія?", options:{A:"Дихати через мокру тканину і покинути зону", B:"Вимкнути комп’ютер", C:"Бігти по сходах угору", D:"Відчинити всі двері"} },

{ id:26, text:"Головна небезпека масового скупчення:", options:{A:"Нестача води", B:"Паніка та тиснява", C:"Холод", D:"Наявність камер"} },
{ id:27, text:"Під час тисняви найнебезпечніше:", options:{A:"Тримати руки в кишенях", B:"Стояти боком і захищати грудну клітку", C:"Нахилитися вниз", D:"Знімати одяг"} },
{ id:28, text:"Який захід НЕ належить до профілактики інфекцій?", options:{A:"Мити руки", B:"Носити маску", C:"Уживати антибіотики без призначення", D:"Дотримуватися дистанції"} },
{ id:29, text:"При кашлі хворого в приміщенні слід:", options:{A:"Вимкнути вентиляцію", B:"Забезпечити провітрювання", C:"Закрити всі вікна", D:"Сісти поруч"} },
{ id:30, text:"Під час евакуації з ТЦ почалася тиснява. Твої дії?", options:{A:"Підняти руки на рівень грудей, рухатися з натовпом", B:"Зупинитися посеред потоку", C:"Сісти на підлогу", D:"Тримати телефон у руках"} },

{ id:31, text:"Перше, що треба зробити при наданні допомоги:", options:{A:"Відразу накласти пов’язку", B:"Оцінити безпеку місця", C:"Викликати начальника", D:"Дати води потерпілому"} },
{ id:32, text:"Зупинка серця визначається за:", options:{A:"Почервонінням шкіри", B:"Відсутністю пульсу і дихання", C:"Потовиділенням", D:"Судомами"} },
{ id:33, text:"Спосіб 'рот у рот' застосовується для:", options:{A:"Зупинки кровотечі", B:"Штучного дихання", C:"Іммобілізації", D:"Зниження температури"} },
{ id:34, text:"При артеріальній кровотечі кров має колір:", options:{A:"Темно-вишневий", B:"Яскраво-червоний і пульсує", C:"Жовтий", D:"Чорний"} },
{ id:35, text:"Людина втратила свідомість і не дихає. Твої дії?", options:{A:"Побризкати водою", B:"Почати СЛР (30 компресій — 2 вдування)", C:"Дати нашатир", D:"Розтирати руки потерпілому"} },

{ id:36, text:"Яка хімічна речовина важча за повітря?", options:{A:"Аміак", B:"Хлор", C:"Метан", D:"Водень"} },
{ id:37, text:"Чим визначають токсичність речовини?", options:{A:"Концентрацією", B:"Запахом", C:"Густотою", D:"Температурою"} },
{ id:38, text:"Чи можна користуватися кондиціонером під час хімічної аварії?", options:{A:"Так", B:"Так, якщо тепло", C:"Ні", D:"Так, якщо приміщення прохолодне"} },
{ id:39, text:"Найпоширеніший спосіб зараження ХНР:", options:{A:"Дотик", B:"Інгаляція", C:"Тиск", D:"Світло"} },
{ id:40, text:"Під час роботи працівник впав у зону хімічної хмари. Перше, що треба зробити?", options:{A:"Внести його в укриття", B:"Винести на свіже повітря проти вітру", C:"Дати йому води", D:"Зняти одяг із співробітника"} },

{ id:41, text:"Хто відповідає за організацію цивільного захисту на підприємстві?", options:{A:"Керівник підрозділу кадрів", B:"Керівник об’єкта/підприємства (директор)", C:"Сторонній консультант", D:"Підрядник з охорони"} },
{ id:42, text:"Комісія з НС створюється:", options:{A:"Лише в державних органах", B:"На об’єкті, підприємстві, установі", C:"Тільки у військових частинах", D:"Тільки в школах"} },
{ id:43, text:"Під час НС хто координує рятувальні роботи?", options:{A:"Директор з маркетингу", B:"Керівник робіт з ліквідації НС", C:"Черговий охоронець", D:"Волонтер"} },
{ id:44, text:"Який обов’язок працівників у сфері ЦЗ?", options:{A:"Уникати навчань", B:"Виконувати правила безпеки", C:"Ігнорувати інструкції", D:"Вести відеозйомку НС"} },
{ id:45, text:"Працівник дізнався про пожежу на сусідньому поверсі. Його перша дія?", options:{A:"Продовжувати роботу", B:"Повідомити керівництво та розпочати евакуацію", C:"Ховатися під стіл", D:"Викликати таксі"} },

{ id:46, text:"Що є основним документом, який визначає дії персоналу під час загрози або виникнення НС на підприємстві?", options:{A:"Журнал інструктажів", B:"Об’єктовий план реагування на надзвичайні ситуації", C:"План пожежогасіння", D:"Календар навчань"} },
{ id:47, text:"Що входить до прогнозованих небезпек, які враховуються в ЦЗ?", options:{A:"Тільки природні явища", B:"Природні, техногенні та соціальні", C:"Тільки техногенні", D:"Лише пожежі"} },
{ id:48, text:"Найбільш вразлива категорія населення під час НС:", options:{A:"Діти, літні люди, особи з інвалідністю", B:"Тільки діти", C:"Тільки працівники підприємств", D:"Тільки водії"} },
{ id:49, text:"Який сигнал означає «Приготуйтеся до евакуації»?", options:{A:"Увага всім!", B:"Сирена короткими сигналами", C:"Повільний гул сирени", D:"Світлова сигналізація"} },
{ id:50, text:"Під час сильного буревію найкраще:", options:{A:"Залишатися у приміщенні, далеко від вікон", B:"Вийти на вулицю", C:"Сховатися під деревом", D:"Їхати автомобілем"} },

{ id:51, text:"Який вид сигналу повідомляє про радіаційну небезпеку?", options:{A:"Сирена тривоги", B:"Звуковий сигнал годинника", C:"Відео на екрані", D:"Повідомлення в месенджері"} },
{ id:52, text:"Чи можна використовувати електроприлади під час хімічної загрози?", options:{A:"Ні, щоб уникнути іскріння", B:"Так, без обмежень", C:"Лише на кухні", D:"Лише з перервами"} },
{ id:53, text:"Який найефективніший спосіб захисту при біологічній загрозі?", options:{A:"Маска і герметизація приміщення", B:"Прогулянки на свіжому повітрі", C:"Пити більше води", D:"Закриття очей"} },
{ id:54, text:"Перша допомога при опіках включає:", options:{A:"Негайне охолодження у холодній воді", B:"Змазування маслом", C:"Прикладання льоду прямо на шкіру", D:"Накладання сухої тканини"} },
{ id:55, text:"Що потрібно робити після закінчення евакуації?", options:{A:"Повернутися до робочого місця без перевірки", B:"Дочекатися команди від відповідальних осіб", C:"Залишити територію назавжди", D:"Самостійно шукати безпечне місце"} },
];

const answers = {
1:"B",2:"B",3:"C",4:"B",5:"B",
6:"A",7:"B",8:"D",9:"B",10:"B",
11:"B",12:"B",13:"B",14:"B",15:"C",
16:"A",17:"C",18:"B",19:"B",20:"A",
21:"B",22:"C",23:"D",24:"B",25:"A",
26:"B",27:"B",28:"C",29:"B",30:"A",
31:"B",32:"B",33:"B",34:"B",35:"B",
36:"B",37:"A",38:"C",39:"B",40:"B",
41:"B",42:"B",43:"B",44:"B",45:"B",
46:"B",47:"B",48:"A",49:"B",50:"A",
51:"A",52:"A",53:"A",54:"A",55:"B"
};

let state = { started:false, index:0, choices:{}, showResults:false };
let timeLeft = 50 * 60; // 50 хв
let timerInterval = null;
const timerEl = document.getElementById('time');

function startTimer(){
  if (timerInterval) clearInterval(timerInterval);
  timerInterval = setInterval(()=>{
    if (timeLeft < 0) { clearInterval(timerInterval); finishTest(); return; }
    const m = Math.floor(timeLeft/60);
    const s = timeLeft%60;
    timerEl.textContent = `${m}:${s.toString().padStart(2,'0')}`;
    timeLeft--;
  },1000);
}

function render(){
  document.getElementById('total').textContent = questions.length;
  document.getElementById('current').textContent = state.started ? (state.index+1) : 0;

  const app = document.getElementById('app');

  if (!state.started){
    app.innerHTML = `<div style="padding:12px; color:#374151">Натисніть "Почати тест" після введення ПІБ. Під час проходження таймер працює. Ви можете переходити між питаннями кнопками "Назад"/"Далі".</div>`;
    document.getElementById('finishBtn').style.display = 'none';
    return;
  }

  if (state.showResults){
    const score = grade();
    const percent = Math.round(score/questions.length*100);
    const username = document.getElementById('username').value || 'Невідомо';
    const passed = percent >= 50;
    const resultText = passed ? "ТЕСТ СКЛАДЕНО — ВІТАЄМО!" : "ТЕСТ НЕ СКЛАДЕНО";
    const body = `ПІБ: ${username}\nРезультат: ${score} з ${questions.length} (${percent}%)\nСтатус: ${resultText}`;

    // Відправка на фіксовану email
    sendEmail('chorna.galina69@gmail.com', body);

    app.innerHTML = `
      <div class="result">
        <h2 style="margin:0 0 8px">${resultText}</h2>
        <p style="margin:0 0 6px">Балів: <strong>${score}</strong> з ${questions.length} — ${percent}%</p>
        <div style="margin-top:10px">
          <button onclick="location.reload()">Пройти знову</button>
        </div>
      </div>
    `;
    document.getElementById('finishBtn').style.display = 'none';
    if (timerInterval) clearInterval(timerInterval);
    return;
  }

  const q = questions[state.index];
  app.innerHTML = `
    <div class='question'>
      <div><strong>Питання ${state.index+1}:</strong> ${q.text}</div>
      <div class="options">
        ${Object.entries(q.options).map(([k,v])=>`
           <label class='opt'><input type='radio' name='q${q.id}' value='${k}' ${state.choices[q.id]===k?'checked':''}> <strong>${k}.</strong> ${v}</label>
        `).join('')}
      </div>

      <div class="controls">
        <div style="display:flex; gap:8px;">
          <button class="secondary" onclick="prev()" ${state.index===0?'disabled':''}>Назад</button>
          <button class="secondary" onclick="next()" ${state.index===questions.length-1?'disabled':''}>Далі</button>
        </div>
        <div style="display:flex; gap:8px;">
          <button onclick="finishTest()">Завершити</button>
        </div>
      </div>
    </div>
  `;

  document.querySelectorAll('input[type=radio]').forEach(r=>{
    r.addEventListener('change', e =>{
      state.choices[q.id] = e.target.value;
    });
  });

  document.getElementById('finishBtn').style.display = 'inline-block';
}

function prev(){ if (state.index>0) state.index--; render(); }
function next(){ if (state.index<questions.length-1) state.index++; render(); }
function finishTest(){ if (!state.started) return; state.showResults = true; render(); }
function grade(){ let sc=0; for(const q of questions){ if(state.choices[q.id]===answers[q.id]) sc++; } return sc; }
function sendEmail(destEmail, text){
  const url = 'https://formsubmit.co/ajax/' + encodeURIComponent(destEmail);
  fetch(url,{
    method:'POST',
    headers:{ 'Content-Type':'application/json', 'Accept':'application/json' },
    body: JSON.stringify({ message:text, name: document.getElementById('username').value || '' })
  }).then(r=>console.log('email send status', r.status))
    .catch(err=>console.warn('Не вдалось надіслати результати автоматично.', err));
}

document.getElementById('startBtn').addEventListener('click', ()=>{
  const name = document.getElementById('username').value.trim();
  if (!name){ alert('Будь ласка, введіть ПІБ перед початком тесту.'); return; }
  state.started = true;
  state.index = 0;
  state.choices = {};
  state.showResults = false;
  timeLeft = 50*60;
  startTimer();
  render();
});

document.getElementById('finishBtn').addEventListener('click', finishTest);
render();
</script>
</body>
</html>
